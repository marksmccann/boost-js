var camelize=function(str){return str.replace(/[-_]+/g,' ').replace(/[^\w\s]/g,'').replace(/ (.)/g,function($1){return $1.toUpperCase()}).replace(/ /g,'')}var typify=function(str){if(/^\d+$/.test(str))return parseInt(str);if(/^\d*\.\d+$/.test(str))return parseFloat(str);if(/^true$/.test(str))return true;if(/^false$/.test(str))return false;return str}var dataset=function(elem){var data={},attr=elem.attributes;for(var i in attr){if(/^data-/.test(attr[i].name)){var key=attr[i].name.replace(/^data-/,'');data[camelize(key)]=typify(attr[i].value)}}return data}var Boilerplate=function(element,options,defaults){var inst=this;inst.source=$(element);inst.id=inst.source.attr('id')||null;inst.settings=$.extend({},defaults,dataset(inst.source[0]),options);inst.references=inst.id!==null?$('[href="#'+inst.id+'"],[data-bind="#'+inst.id+'"]'):$();inst.roles={};inst.references.filter('[data-role]').each(function(){var role=$(this).data('role');if(!inst.roles.hasOwnProperty(role))inst.roles[role]=$();inst.roles[role]=inst.roles[role].add(this)});return this}Boilerplate.init=function(elems,options){var inits=[],Plugin=this;$(elems).each(function(){var inst=new Plugin(this,options||{});var id=inst.id!==null?camelize(inst.id):Object.keys(Plugin.instances).length.toString();Plugin.instances[id]=inst;inits.push(inst)});return inits.length>1?inits:inits[0]}var boost=function(MyPlugin,defaults){if(typeof MyPlugin==='function'){var Plugin=function(element,options){Boilerplate.call(this,element,options||{},defaults||{});MyPlugin.call(this,element,options);return this}Plugin.prototype=MyPlugin.prototype;Plugin.prototype.constructor=Plugin;Plugin.init=Boilerplate.init;Plugin.instances={};var Boost=function(options){return Plugin.init.call(Plugin,this,options)}Boost.init=function(elems,options){return Plugin.init.call(Plugin,elems,options)}Boost.instances=Plugin.instances;return Boost}else{throw'\'Boost JS\' requires a function as first paramater.';}}boost.auto=function(){var init=[];$('[data-init]').each(function(){var plugin=$(this).data('init');var camelized=camelize(plugin);if(init.indexOf(camelized)===-1&&typeof $.fn[camelized]!=='undefined'){$('[data-init="'+plugin+'"]')[camelized]()}})}if(typeof require==="function"&&typeof exports==="object"&&typeof module==="object"){module.exports=boost}else if(typeof window!=='undefined'&&typeof window.$!=='undefined'){window.$.fn.boost=boost}